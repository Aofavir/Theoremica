<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="theorem.css">
    <link rel="stylesheet" href="main-styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
          rel="stylesheet">
    <title>Теоремика</title>
</head>
<header style="background: #F6F7FB">
    <ul class="top-row">
        <li class="big-logo link"><img src="theoremica-logo.svg" alt="Теоремика"></li>
        <li class="stick">|</li>
        <li class="top-small button link">Геометрия</li>
        <li class="top-small button link">Алгебра</li>
    </ul>
</header>
<body style="background: #F6F7FB">
<ul class="main">
    <li class="left"> <!-- левая часть -->
        <div class="block">
            <ul class="block-content">
                <li><img src="heart.svg" class="star" alt="Star">Популярные</li>
                <li class="string">Теорема Пифагора</li>
                <li class="string">Теорема синусов</li>
                <li class="string">Теорема косинусов</li>
                <li class="string">Теорема Менелая</li>
            </ul>
        </div>
        <div class="block">
            <ul class="block-content">
                <li><img src="triangle.svg" class="star" alt="Star">Популярные</li>
                <li class="string">Подобие треугольников</li>
                <li class="string">Свойства медиан</li>
                <li class="string">Теорема синусов</li>
            </ul>
        </div>
        <div class="block">
            <ul class="block-content">
                <li><img src="circle.svg" class="star" alt="Star">Популярные</li>
                <li class="string">Касательная и её свойства</li>
                <li class="string">Хорда и её свойства</li>
                <li class="string">Центральные и вписанные углы</li>
                <li class="string">Длина и площадь окружности и её секторов</li>
            </ul>
        </div>
    </li>
    <li>
        <div class="center">
            <ul class="block-content-card">
                <li class="title">Центральные и вписанные углы</li>
                <li><span class="topic">Окружности</span> <span class="grade">8 класс</span></li>
                <li></li>
                <li></li>
                <li class="views-amount">20 просмотров</li>
            </ul>
            <div class="heart-and-img"><img style="width:228px;height:258px; margin-right:-100px" alt=""
                                            src="corners.svg">
                <img data-id="1" class='heart' alt="" src="heart.svg">
            </div>
        </div>


        <div class="center">
            <ul class="block-content-card">
                <li class="title">Центральные и вписанные углы</li>
                <li><span class="topic">Окружности</span> <span class="grade">8 класс</span></li>
                <li></li>
                <li></li>
                <li class="views-amount">20 просмотров</li>
            </ul>
            <div class="heart-and-img"><img style="width:228px;height:258px; margin-right:-100px" alt=""
                                            src="corners.svg"><img data-id="2" class='heart'
                                                                   alt=""
                                                                   src="heart.svg">
            </div>
        </div>

        <div class="center">
            <ul class="block-content-card">
                <li class="title">Центральные и вписанные углы</li>
                <li><span class="topic">Окружности</span> <span class="grade">8 класс</span></li>
                <li></li>
                <li></li>
                <li class="views-amount">20 просмотров</li>
            </ul>
            <div class="heart-and-img"><img style="width:228px;height:258px; margin-right:-100px" alt=""
                                            src="corners.svg"><img data-id="3" class='heart'
                                                                   alt=""
                                                                   src="heart.svg">
            </div>
        </div>
    </li>


    <li>
        <div class="block">
            <ul class="block-content">
                <li><img src="star.svg" class="star" alt="Star">Популярные</li>
                <li class="string">Теорема Пифагора</li>
                <li class="string">Теорема синусов</li>
                <li class="string">Теорема Пифагора</li>
                <li class="string">Теорема Пифагора</li>
            </ul>
        </div>
    </li>
</ul>

<script>
    const hearts = document.getElementsByClassName('heart');
    Array.from(hearts).forEach((heart) => {
        // initial fill
        const likes = localStorage.getItem('likes');
        if (likes) {
            if (JSON.parse(likes).includes(heart.dataset.id)) {
                heart.src = 'heart-filled.png';
            }
        }

        // click event
        heart.addEventListener('click', () => {
            if (heart.classList.contains('heart-filled')) {
                heart.src = 'heart.svg';
                console.log(1);
                // remove from localStorage
                const likes = localStorage.getItem('likes');
                if (likes) {
                    localStorage.setItem('likes', JSON.stringify(JSON.parse(likes).filter(id => id !== heart.dataset.id)));
                }
            } else {
                heart.src = 'heart-filled.png';
                console.log(heart);
                // add to localStorage
                const likes = localStorage.getItem('likes');
                localStorage.setItem('likes', JSON.stringify([...(likes ? JSON.parse(likes) : []), heart.dataset.id]));
            }

            heart.classList.toggle('heart-filled');
        })
    })
</script>
</body>
</html>